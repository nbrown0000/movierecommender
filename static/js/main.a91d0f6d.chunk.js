(this.webpackJsonpmovierecommender=this.webpackJsonpmovierecommender||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(18)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=(n(12),n(1)),s=n(2),l=n(4),m=n(3),u=function(e){var t=e.onInputChange,n=e.onClickSearch,a=e.onInputPressEnter;return r.a.createElement("div",{className:"tc mt0 pt0 dib"},r.a.createElement("div",{className:"f5 pa1 flex flex-row items-center"},r.a.createElement("label",{className:"pr2"},"Enter a movie name: "),r.a.createElement("input",{onChange:t,onKeyDown:a})),r.a.createElement("div",{className:"pt3"},r.a.createElement("button",{className:"ml1 pointer f5 no-underline br-pill ph4 pv2 white bg-black",onClick:n},"Search")))},d=(n(13),n(14),function(e){var t=e.movie,n=e.setSelectedMovie,a={};return a=e.selectedMovie.id===t.id?{border:"3px solid #333333",width:"150px",height:"225px"}:{border:"3px solid white",width:"150px",height:"225px"},r.a.createElement("div",{className:"card",style:a,onClick:function(){return n(t)}},null===t.poster_path?r.a.createElement("p",{className:"relative ws-normal pa2"},t.original_title):r.a.createElement("img",{src:"http://image.tmdb.org/t/p/w200/".concat(t.poster_path),alt:"",width:"100%",height:"100%"}))}),p=function(e){var t=e.moviesList,n=e.selectedMovie,a=e.setSelectedMovie,i=e.route,o=e.onClickStartAgain,c="";return c="search"===i?"scrollmenu":"noscrollmenu",r.a.createElement("div",{className:"mt4"},0===t.length?r.a.createElement(r.a.Fragment,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"f5 dib pa3 mid-gray"},"search"===i?r.a.createElement("p",{className:"i fw7 pa0 ma0"},"We found ",t.length," movies with that name."):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"i fw7 pa0 ma0 mb2"},"Our top ",t.length," recommended movies."),r.a.createElement("button",{className:"ml1 pointer f5 no-underline br-pill ph4 pv2 white bg-black",onClick:o},"Start Again"))),r.a.createElement("div",{className:c},t.map((function(e,t){return r.a.createElement(d,{movie:e,key:t,setSelectedMovie:a,selectedMovie:n})})))))},h=(n(15),function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).genreIdToName=function(t){var n=[];return t.forEach((function(t){e.props.genreList.forEach((function(e){e.id===t&&n.push(e.name)}))})),n.join(", ")},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.selectedMovie,t=e.original_title,n=e.release_date,a=e.overview,i=e.genre_ids;return r.a.createElement("div",{className:"tl ma3"},""!==this.props.selectedMovie?r.a.createElement("div",{className:"mid-gray"},r.a.createElement("div",{className:"pa2"},r.a.createElement("div",{className:"flex flex-row justify-between ma0 pa0 items-center"},r.a.createElement("h2",{className:"ma0 pa0"},t," (",n.slice(0,4),")"),r.a.createElement("button",{className:"ml1 pointer f5 no-underline br-pill ph4 pv2 white bg-black",onClick:this.props.getRecommendedMovies},"Recommend Similar Movies")),r.a.createElement("p",null,this.genreIdToName(i)),r.a.createElement("p",null,a))):r.a.createElement(r.a.Fragment,null))}}]),n}(r.a.Component)),v=(n(16),n(17),"https://simple-movie-recommender.herokuapp.com"),g=function(e){Object(l.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onInputChange=function(e){a.setState({input:e.target.value})},a.onInputPressEnter=function(e){13===e.keyCode&&a.onClickSearch()},a.onClickSearch=function(){if(""===a.state.input)return alert("Seach must include a name");a.setState({moviesList:[],selectedMovie:"",getRecommendedMovies:[]}),fetch("".concat(v,"/searchByTitle"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:a.state.input})}).then((function(e){return e.json()})).then((function(e){return a.setState({moviesList:e})}))},a.setSelectedMovie=function(e){a.setState({selectedMovie:e})},a.getRecommendedMovies=function(){fetch("".concat(v,"/searchByGenres"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({genre_ids:a.state.selectedMovie.genre_ids})}).then((function(e){return e.json()})).then((function(e){return a.setState({recommendedMovies:e})})),a.setState({route:"result"})},a.onClickStartAgain=function(){a.setState({input:"",genreList:[],moviesList:[],selectedMovie:"",recommendedMovies:[],route:"search"})},a.state={input:"",genreList:[],moviesList:[],selectedMovie:"",recommendedMovies:[],route:"search"},a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch(v+"/getGenres").then((function(e){return e.json()})).then((function(t){return e.setState({genreList:t.genres})}))}},{key:"render",value:function(){var e=this.state,t=e.moviesList,n=e.selectedMovie,a=e.route,i=e.genreList,o=e.recommendedMovies,c=t.sort((function(e,t){return e.popularity<t.popularity?1:-1})),s=o.sort((function(e,t){return e.popularity<t.popularity?1:-1})).slice(0,30);return r.a.createElement("div",{className:"App"},r.a.createElement("h1",{style:{fontFamily:"Roboto"},className:"mb3"},"Movie Recommender"),"search"===this.state.route?r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{onClickSearch:this.onClickSearch,onInputChange:this.onInputChange,onInputPressEnter:this.onInputPressEnter}),r.a.createElement(p,{moviesList:c,selectedMovie:n,setSelectedMovie:this.setSelectedMovie,route:a,onClickStartAgain:this.onClickStartAgain}),r.a.createElement(h,{selectedMovie:n,genreList:i,getRecommendedMovies:this.getRecommendedMovies})):"result"===this.state.route?r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{moviesList:s,selectedMovie:n,setSelectedMovie:this.setSelectedMovie,route:a,onClickStartAgain:this.onClickStartAgain})):r.a.createElement(r.a.Fragment,null))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.a91d0f6d.chunk.js.map